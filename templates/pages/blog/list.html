{% extends '../../layouts/base.html' %}

{% block content %}
  <div class="container">
    <div class="content">
      <h1>
        {% if tag %}
          Posts in <span class="tag">{{ tag }}</span>
        {% elif blogPage == 1 %}
          Welcome to the Blog!
        {% else %}
          Page {{ blogPage }}
        {% endif %}
      </h1>
      {% if not tag and blogPage == 1 %}
        <p>
          This is where I write about life, programming, and other interests.
        </p>
        <p>
          You can view the most recent posts below, or <a href="/blog/tags">Browse Tags</a>.
          {% if loggedIn %}Or, <a href="/blog/drafts">Drafts.</a>{% endif %}
        </p>
      {% endif %}
    </div>
    <hr>
    <ul>
      {% for blogPost in blogPosts %}
        <li class="content blog-post-preview">
          <h2>
            <a href="/blog/{{ blogPost.Slug }}">
              {{ blogPost.Title }}
            </a>
            {% include '../../partials/blog_post_meta.html' %}
          </h2>
          <div>
            {{ blogPost.Content | summary }}
          </div>
          <div class="blog-post-continue">
            {% include '../../partials/blog_post_tag.html' with tags=blogPost.Tags %}
            <a href="/blog/{{ blogPost.Slug }}">
              Continue Reading &raquo;
            </a>
          </div>
        </li>
      {% endfor %}
    </ul>

    <div class="pagination">
      <div class="pagination-left">
        {% if blogPagePrev != blogPage %}
          <a href="/blog/page/{{ blogPagePrev }}" class="left">&laquo; Previous</a>
        {% endif %}
      </div>

      <div class="pagination-center">
        Page {{ blogPage }}
      </div>

      <div class="pagination-right">
        {% if blogPageNext != blogPage %}
          <a href="/blog/page/{{ blogPageNext }}">Next &raquo;</a>
        {% else %}
        {% endif %}
      </div>
    </div>
  </div>
{% endblock %}
